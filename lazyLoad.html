<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>

	<style>
		img {
			width: 100vw;
			transform: translateX(50%);
			opacity: 0;
			transition: all 500ms;
		}

		.fade {
			transform: translateX(0);
			opacity: 1.0;
			transition: all 500ms;
		}


	</style>

</head>
<body>

		<h1>My Gallery</h1>

		<img data-lazy="img/200.jpg">

		<h1>Lorem Ipsim somet sit amet</h1>
		<p>
			Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eveniet illo, alias esse libero, necessitatibus, deserunt tempore voluptatibus corporis molestiae in dolores ipsam quisquam deleniti obcaecati quibusdam praesentium eum quia sapiente?
		</p>

		<img data-lazy="img/300.jpg">

		<h1>Lorem Ipsim somet sit amet</h1>
		<p>
			Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eveniet illo, alias esse libero, necessitatibus, deserunt tempore voluptatibus corporis molestiae in dolores ipsam quisquam deleniti obcaecati quibusdam praesentium eum quia sapiente?
		</p>

		<h1>Lorem Ipsim somet sit amet</h1>
		<p>
			Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eveniet illo, alias esse libero, necessitatibus, deserunt tempore voluptatibus corporis molestiae in dolores ipsam quisquam deleniti obcaecati quibusdam praesentium eum quia sapiente?
		</p>

		<img data-lazy="img/400.jpg">

		<img data-lazy="img/600.jpg">

		<img data-lazy="img/900.jpg">


	<script>
		const targets = document.querySelectorAll('img');

		const lazyLoad = target => {
			const io = new IntersectionObserver((entries, observer) => {
				entries.forEach(entry => {
					console.log('ðŸ™„');

					if (entry.isIntersecting) {
						const img = entry.target;
						const src = img.getAttribute('data-lazy');

						img.setAttribute('src', src);
						img.classList.add('fade');

						observer.disconnect();
					}
				})
			})

			io.observe(target);
		};

		targets.forEach(lazyLoad);
	</script>

</body>
</html>